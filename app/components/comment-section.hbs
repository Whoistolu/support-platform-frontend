<div class="card bg-white p-4 rounded-lg shadow">
  <h3 class="text-lg font-semibold mb-4">Comments</h3>

  <ul class="space-y-4 mb-6">
    {{#each @comments as |comment|}}
      <li class="bg-gray-50 p-3 rounded-md border border-gray-200">
        <p class="text-sm text-gray-800 mb-1">{{comment.body}}</p>
        <div class="text-xs text-gray-500 flex justify-between">
          <span>By: {{comment.user.name}}</span>
          <span>{{comment.createdAt}}</span>
        </div>
      </li>
    {{/each}}
  </ul>

  {{#if this.canComment}}
    <form {{on "submit" this.postComment}} class="space-y-3">
      <label
        for="comment-textarea"
        class="block text-sm font-medium text-gray-700"
      >Comment</label>
      <textarea
        id="comment-textarea"
        class="w-full p-2 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring focus:border-blue-300"
        rows="4"
        placeholder="Write your comment..."
        {{on "input" this.updateComment}}
      >{{this.commentText}}</textarea>
      <button
        type="submit"
        class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-all"
      >
        Post Comment
      </button>
    </form>

  {{else}}
    <p class="text-sm text-gray-500">You can only comment after an agent has
      responded.</p>
  {{/if}}
</div>